webpackJsonp(["mapbox-gl-js-example-timeline-animation"],{"3sn/":function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(t("DJbt")),r=i(t("mshn"));function i(n){return n&&n.__esModule?n:{default:n}}e.default=(0,a.default)(r.default)},GZgM:function(n,e,t){"use strict";var a=t("3sn/");a=a.default||a,n.exports={component:a,props:{frontMatter:{title:"Create a time slider",description:"Drag the range slider to visualize earthquakes that were greater than 5.9 magnitude in 2015.",tags:["user-interaction","sources"],pathname:"/mapbox-gl-js/example/timeline-animation/"}}}},mshn:function(n,e){n.exports="<style>\n.map-overlay {\n    font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;\n    position: absolute;\n    width: 25%;\n    top: 0;\n    left: 0;\n    padding: 10px;\n}\n\n.map-overlay .map-overlay-inner {\n    background-color: #fff;\n    box-shadow:0 1px 2px rgba(0, 0, 0, 0.20);\n    border-radius: 3px;\n    padding: 10px;\n    margin-bottom: 10px;\n}\n\n.map-overlay h2 {\n    line-height: 24px;\n    display: block;\n    margin: 0 0 10px;\n}\n\n.map-overlay .legend .bar {\n    height: 10px;\n    width: 100%;\n    background: linear-gradient(to right, #FCA107, #7F3121);\n}\n\n.map-overlay input {\n    background-color: transparent;\n    display: inline-block;\n    width: 100%;\n    position: relative;\n    margin: 0;\n    cursor: ew-resize;\n}\n</style>\n\n<div id='map'></div>\n\n<div class='map-overlay top'>\n    <div class='map-overlay-inner'>\n        <h2>Significant earthquakes in 2015</h2>\n        <label id='month'></label>\n        <input id='slider' type='range' min='0' max='11' step='1' value='0' />\n    </div>\n    <div class='map-overlay-inner'>\n        <div id='legend' class='legend'>\n            <div class='bar'></div>\n            <div>Magnitude (m)</div>\n        </div>\n    </div>\n</div>\n\n<script src='//d3js.org/d3.v3.min.js' charset='utf-8'><\/script>\n<script>\nvar map = new mapboxgl.Map({\n    container: 'map',\n    style: 'mapbox://styles/mapbox/light-v9',\n    center: [31.4606, 20.7927],\n    zoom: 0.5\n});\n\nvar months = [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December'\n];\n\nfunction filterBy(month) {\n\n    var filters = ['==', 'month', month];\n    map.setFilter('earthquake-circles', filters);\n    map.setFilter('earthquake-labels', filters);\n\n    // Set the label to the month\n    document.getElementById('month').textContent = months[month];\n}\n\nmap.on('load', function() {\n\n    // Data courtesy of http://earthquake.usgs.gov/\n    // Query for significant earthquakes in 2015 URL request looked like this:\n    // http://earthquake.usgs.gov/fdsnws/event/1/query\n    //    ?format=geojson\n    //    &starttime=2015-01-01\n    //    &endtime=2015-12-31\n    //    &minmagnitude=6'\n    //\n    // Here we're using d3 to help us make the ajax request but you can use\n    // Any request method (library or otherwise) you wish.\n    d3.json('https://www.mapbox.com/mapbox-gl-js/assets/significant-earthquakes-2015.geojson', function(err, data) {\n        if (err) throw err;\n\n        // Create a month property value based on time\n        // used to filter against.\n        data.features = data.features.map(function(d) {\n            d.properties.month = new Date(d.properties.time).getMonth();\n            return d;\n        });\n\n        map.addSource('earthquakes', {\n            'type': 'geojson',\n            data: data\n        });\n\n        map.addLayer({\n            'id': 'earthquake-circles',\n            'type': 'circle',\n            'source': 'earthquakes',\n            'paint': {\n                'circle-color': [\n                    'interpolate',\n                    ['linear'],\n                    ['get', 'mag'],\n                    6, '#FCA107',\n                    8, '#7F3121'\n                ],\n                'circle-opacity': 0.75,\n                'circle-radius': [\n                    'interpolate',\n                    ['linear'],\n                    ['get', 'mag'],\n                    6, 20,\n                    8, 40\n                ]\n            }\n        });\n\n        map.addLayer({\n            'id': 'earthquake-labels',\n            'type': 'symbol',\n            'source': 'earthquakes',\n            'layout': {\n                'text-field': ['concat', ['to-string', ['get', 'mag']], 'm'],\n                'text-font': ['Open Sans Bold', 'Arial Unicode MS Bold'],\n                'text-size': 12\n            },\n            'paint': {\n                'text-color': 'rgba(0,0,0,0.5)'\n            }\n        });\n\n        // Set filter to first month of the year\n        // 0 = January\n        filterBy(0);\n\n        document.getElementById('slider').addEventListener('input', function(e) {\n            var month = parseInt(e.target.value, 10);\n            filterBy(month);\n        });\n    });\n});\n<\/script>\n"}});
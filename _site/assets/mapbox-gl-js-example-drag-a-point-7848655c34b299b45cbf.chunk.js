webpackJsonp(["mapbox-gl-js-example-drag-a-point"],{"2GzY":function(n,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=r(o("DJbt")),a=r(o("OSHc"));function r(n){return n&&n.__esModule?n:{default:n}}e.default=(0,t.default)(a.default)},OSHc:function(n,e){n.exports="\n<style>\n.coordinates {\n    background: rgba(0,0,0,0.5);\n    color: #fff;\n    position: absolute;\n    bottom: 10px;\n    left: 10px;\n    padding:5px 10px;\n    margin: 0;\n    font-size: 11px;\n    line-height: 18px;\n    border-radius: 3px;\n    display: none;\n}\n</style>\n\n<div id='map'></div>\n<pre id='coordinates' class='coordinates'></pre>\n\n<script>\nvar coordinates = document.getElementById('coordinates');\nvar map = new mapboxgl.Map({\n    container: 'map',\n    style: 'mapbox://styles/mapbox/streets-v9',\n    center: [0, 0],\n    zoom: 2\n});\n\nvar canvas = map.getCanvasContainer();\n\nvar geojson = {\n    \"type\": \"FeatureCollection\",\n    \"features\": [{\n        \"type\": \"Feature\",\n        \"geometry\": {\n            \"type\": \"Point\",\n            \"coordinates\": [0, 0]\n        }\n    }]\n};\n\nfunction onMove(e) {\n    var coords = e.lngLat;\n\n    // Set a UI indicator for dragging.\n    canvas.style.cursor = 'grabbing';\n\n    // Update the Point feature in `geojson` coordinates\n    // and call setData to the source layer `point` on it.\n    geojson.features[0].geometry.coordinates = [coords.lng, coords.lat];\n    map.getSource('point').setData(geojson);\n}\n\nfunction onUp(e) {\n    var coords = e.lngLat;\n\n    // Print the coordinates of where the point had\n    // finished being dragged to on the map.\n    coordinates.style.display = 'block';\n    coordinates.innerHTML = 'Longitude: ' + coords.lng + '<br />Latitude: ' + coords.lat;\n    canvas.style.cursor = '';\n\n    // Unbind mouse/touch events\n    map.off('mousemove', onMove);\n    map.off('touchmove', onMove);\n}\n\nmap.on('load', function() {\n\n    // Add a single point to the map\n    map.addSource('point', {\n        \"type\": \"geojson\",\n        \"data\": geojson\n    });\n\n    map.addLayer({\n        \"id\": \"point\",\n        \"type\": \"circle\",\n        \"source\": \"point\",\n        \"paint\": {\n            \"circle-radius\": 10,\n            \"circle-color\": \"#3887be\"\n        }\n    });\n\n    // When the cursor enters a feature in the point layer, prepare for dragging.\n    map.on('mouseenter', 'point', function() {\n        map.setPaintProperty('point', 'circle-color', '#3bb2d0');\n        canvas.style.cursor = 'move';\n    });\n\n    map.on('mouseleave', 'point', function() {\n        map.setPaintProperty('point', 'circle-color', '#3887be');\n        canvas.style.cursor = '';\n    });\n\n    map.on('mousedown', 'point', function(e) {\n        // Prevent the default map drag behavior.\n        e.preventDefault();\n\n        canvas.style.cursor = 'grab';\n\n        map.on('mousemove', onMove);\n        map.once('mouseup', onUp);\n    });\n\n    map.on('touchstart', 'point', function(e) {\n        if (e.points.length !== 1) return;\n\n        // Prevent the default map drag behavior.\n        e.preventDefault();\n\n        map.on('touchmove', onMove);\n        map.once('touchend', onUp);\n    });\n});\n<\/script>\n"},tNkz:function(n,e,o){"use strict";var t=o("2GzY");t=t.default||t,n.exports={component:t,props:{frontMatter:{title:"Create a draggable point",description:"Drag the point to a new location on a map and populates its coordinates in a display.",tags:["user-interaction"],pathname:"/mapbox-gl-js/example/drag-a-point/"}}}}});